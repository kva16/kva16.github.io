<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A3 Visualizations</title>

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"> <!-- Link to Google Fonts -->
    <link rel="stylesheet" href="style.css">
    
    <style>
        body {
            background-image: url('marineford3.jpg');
            background-size: cover; 
            background-repeat: no-repeat;
            font-family: 'Roboto', sans-serif; 
        }
    </style>

</head>
<body>
    <h2>A3 Visualizations</h2>

    <div id="vis"></div>

    <script src="vis.js"></script>



    <div id="chart"></div>
    <div id="chart2"></div>
    <div id="chart3"></div>
    <div id="chart4"></div>
    <div id="chart5"></div>

    <style>
        #chart2 {
          position: relative;
          
          left: -25px; 
        }
      </style>

<style>
    #chart4 {
      position: absolute;
      top: 455px;  
      left: 395px; 
    }
  </style>

<style>
    #chart5 {
      position: absolute;
      top: 183px;
      left: 1025px; 
    }
  </style>




   <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script> <!-- Vega library -->
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.6.0"></script> <!-- Vega-Lite library -->
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.24.0"></script> <!-- Vega-Embed library -->

    <script>
        
    const vgSpec = {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    data: {
      url: "videogames_long.csv",  
      format: {
        type: "csv"  
      }
    },
    mark: "bar",
    encoding: {
      x: { field: "genre", type: "nominal" },  
      y: { aggregate: "sum", field: "global_sales", title: "Total Global Sales" }, 
      tooltip: [{ field: "genre" }, { field: "global_sales", aggregate: "sum" }]
    },
    "title": "Q1-1: Total global sales by genre"
  };

  vegaEmbed("#chart", vgSpec).then(result => {
    
  }).catch(console.error);


  

  const vgSpec2 = {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    data: {
      url: "videogames_long.csv",  
      format: {
        type: "csv"  
      }
    },
    mark: "bar",  // Bar chart
  encoding: {
    x: { field: "platform", type: "nominal", title: "Platform" },  // X-axis: Platform
    y: { aggregate: "sum", field: "global_sales", type: "quantitative", title: "Total Global Sales" },  // Y-axis: Sum of global sales
    tooltip: [  // Tooltip configuration
      { field: "platform", title: "Platform" },
      { aggregate: "sum", field: "global_sales", title: "Total Global Sales" }
    ]
  },
  "title": "Q1-2: Total global sales by platform"
};

  vegaEmbed("#chart2", vgSpec2).then(result => {
    
  }).catch(console.error);


  const vgSpec3 = {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    data: {
      url: "videogames_long.csv",  
      format: {
        type: "csv"  
      }
    },
    "mark": "bar",  // Bar chart mark
  "encoding": {
    "x": {
      "field": "year",
      "type": "quantitative",
      "title": "Year"
    },
    "y": {
      "field": "global_sales",
      "type": "quantitative",
      "aggregate": "sum",
      "title": "Global Sales (in millions)"
    },
    "color": {
      "field": "platform",
      "type": "nominal",
      "title": "Platform"
    },
    "tooltip": [
      {"field": "year", "type": "quantitative", "title": "Year"},
      {"field": "platform", "type": "nominal", "title": "Platform"},
      {"field": "global_sales", "type": "quantitative", "title": "Global Sales"}
    ]
  },
  "title": "Q2: Sales over time by platform and genre"
}

  vegaEmbed("#chart3", vgSpec3).then(result => {
    
  }).catch(console.error);


  const vgSpec4 = {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    data: {
      url: "videogames_long.csv",  
      format: {
        type: "csv"  
      }
    },
    "mark": "line",  // Line chart mark
  "encoding": {
    "x": {
      "field": "platform",
      "type": "nominal",
      "title": "Platform"
    },
    "y": {
      "aggregate": "sum",
      "field": "sales_amount",
      "type": "quantitative",
      "title": "Total Regional Sales (in Millions)"
    },
    "color": {
      "field": "sales_region",
      "type": "nominal",
      "title": "Sales Region"
    },
    "tooltip": [
      { "field": "platform", "type": "nominal", "title": "Platform" },
      { "aggregate": "sum", "field": "sales_amount", "type": "quantitative", "title": "Total Regional Sales (in Millions)" },
      { "field": "sales_region", "type": "nominal", "title": "Sales Region" }
    ]
  },
  "title": "Q3: Regional Sales by Platform"
}

vegaEmbed("#chart4", vgSpec4).then(result => {
    
}).catch(console.error);


const vgSpec5 = {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    data: {
      url: "videogames_long.csv",  
      format: {
        type: "csv"  
      }
    },
    "mark": "point",  // Mark type is point for scatter plot
  "encoding": {
    "x": {
      "field": "year",
      "type": "temporal",
      "title": "Year"
    },
    "y": {
      "aggregate": "sum",
      "field": "global_sales",
      "type": "quantitative",
      "title": "Total Global Sales (millions)"
    },
    "color": {
      "field": "genre",
      "type": "nominal",
      "title": "Genre"
    },
    "tooltip": [
      { "field": "genre", "type": "nominal", "title": "Genre" },
      { "field": "year", "type": "temporal", "title": "Year" },
      { "aggregate": "sum", "field": "global_sales", "type": "quantitative", "title": "Total Global Sales (millions)" }
    ]
  },
  "title": "Q4: Total Global Sales by Genre and Year"
}

  vegaEmbed("#chart5", vgSpec5).then(result => {
    
  }).catch(console.error);


        
    </script>


    <div class="container">
        
        <div class="movable-element3">
            <button id="backToMain" onclick="window.location.href='index.html'">Back to Main Page</button>
        </div>
    </div>

    <script src="main.js"></script>
    <link rel="stylesheet" href="css/style.css">
</body>
</html>